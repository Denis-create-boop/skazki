{% extends 'base.html' %}
{% load static %}

{% block modal_cart %}
{% include "includes/cart_button.html" %}
{% endblock %}


{% block pagination %}
    <!-- Пагинация -->
    {% if merch_shop %}
    <nav class="content">
        <ul class="pagination justify-content-center my-4">
            <div class="custom-shadow d-flex">
                <li class="page-item {% if not merch_shop.has_previous %}disabled{% endif %}">
                    <a class="page-link" 
                        href="{% if merch_shop.has_previous %}?{% change_params page=merch_shop.previous_page_number %}{% else %}#{% endif %}">Назад</a>
                </li>

                {% for page in merch_shop.paginator.page_range %} 
                    {% if page >= merch_shop.number|add:-2 and page <= merch_shop.number|add:2 %}
                        <li class="page-item {% if merch_shop.number == page %} active {% endif %}">
                            <a class="page-link" href="?{% change_params page=page %}">{{ page }}</a>
                        </li>
                    {% endif %} 
                {% endfor %}
            
                <li class="page-item {% if not merch_shop.has_next %}disabled{% endif %}">
                    <a
                        class="page-link"
                        href="{% if merch_shop.has_next %}?{% change_params page=merch_shop.next_page_number %}{% else %}#{% endif %}">Следующая</a>
                </li>
            </div>
        </ul>
    </nav>
    {% endif %}
{% endblock %} 